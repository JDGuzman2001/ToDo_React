{"ast":null,"code":"import React from\"react\";import{useLocalStorage}from'./useLocalStorage';import{jsx as _jsx}from\"react/jsx-runtime\";const TodoContext=/*#__PURE__*/React.createContext();function TodoProvider(_ref){let{children}=_ref;const{item:todos,saveItem:saveTodos,loading,error}=useLocalStorage('TODOS_V1',[]);const[searchValue,setSearchValue]=React.useState('');const[openModal,setOpenModal]=React.useState(false);const completedTodos=todos.filter(todo=>!!todo.completed).length;const totalTodos=todos.length;const searchedTodos=todos.filter(todo=>{const todoText=todo.text.toLowerCase();const searchText=searchValue.toLowerCase();//return todo.text.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase());\nreturn todoText.includes(searchText);});// console.log('Los usuarios buscan todos de: '+ searchValue);\nconst addTodo=text=>{const newTodos=[...todos];newTodos.push({completed:false,text});saveTodos(newTodos);};const completeTodo=text=>{const newTodos=[...todos];// crear copia del array\nconst todoIndex=newTodos.findIndex(todo=>todo.text===text// buscar el indice del todo que se quiere completar\n);newTodos[todoIndex].completed=true;saveTodos(newTodos);};const deleteTodo=text=>{const newTodos=[...todos];// crear copia del array\nconst todoIndex=newTodos.findIndex(todo=>todo.text===text// buscar el indice del todo que se quiere completar\n);newTodos.splice(todoIndex,1);// eliminar un todo del array\nsaveTodos(newTodos);};return/*#__PURE__*/_jsx(TodoContext.Provider,{value:{loading,error,completedTodos,totalTodos,searchValue,setSearchValue,searchedTodos,completeTodo,deleteTodo,openModal,setOpenModal,addTodo},children:children});}export{TodoContext,TodoProvider};","map":{"version":3,"names":["React","useLocalStorage","jsx","_jsx","TodoContext","createContext","TodoProvider","_ref","children","item","todos","saveItem","saveTodos","loading","error","searchValue","setSearchValue","useState","openModal","setOpenModal","completedTodos","filter","todo","completed","length","totalTodos","searchedTodos","todoText","text","toLowerCase","searchText","includes","addTodo","newTodos","push","completeTodo","todoIndex","findIndex","deleteTodo","splice","Provider","value"],"sources":["D:/Juan_Diego/Projects/React/to-do-list/src/TodoContext/index.js"],"sourcesContent":["import React from \"react\";\r\nimport { useLocalStorage } from './useLocalStorage';\r\n\r\nconst TodoContext = React.createContext();\r\n\r\nfunction TodoProvider({children}){\r\n    const {\r\n        item: todos, \r\n        saveItem: saveTodos,\r\n        loading,\r\n        error,\r\n      } = useLocalStorage('TODOS_V1', []);\r\n      const [searchValue, setSearchValue] = React.useState('');\r\n\r\n      const [openModal, setOpenModal] = React.useState(false);\r\n    \r\n      const completedTodos = todos.filter(\r\n        todo => !!todo.completed).length;\r\n    \r\n      const totalTodos = todos.length;\r\n    \r\n      const searchedTodos = todos.filter(\r\n        (todo) => {\r\n          const todoText = todo.text.toLowerCase();\r\n          const searchText = searchValue.toLowerCase();\r\n          //return todo.text.toLocaleLowerCase().includes(searchValue.toLocaleLowerCase());\r\n          return todoText.includes(searchText);\r\n        }\r\n      );\r\n    \r\n      // console.log('Los usuarios buscan todos de: '+ searchValue);\r\n\r\n      const addTodo = (text) => {\r\n        const newTodos = [...todos];\r\n        newTodos.push({\r\n          completed: false,\r\n          text,\r\n        });\r\n        saveTodos(newTodos);\r\n      };\r\n    \r\n      \r\n      const completeTodo = (text) => {\r\n        const newTodos = [...todos]; // crear copia del array\r\n        const todoIndex = newTodos.findIndex(\r\n          (todo) => todo.text === text // buscar el indice del todo que se quiere completar\r\n        );\r\n        newTodos[todoIndex].completed = true;\r\n        saveTodos(newTodos);\r\n      };\r\n    \r\n      const deleteTodo = (text) => {\r\n        const newTodos = [...todos]; // crear copia del array\r\n        const todoIndex = newTodos.findIndex(\r\n          (todo) => todo.text === text // buscar el indice del todo que se quiere completar\r\n        );\r\n        newTodos.splice(todoIndex, 1); // eliminar un todo del array\r\n        saveTodos(newTodos);\r\n      };\r\n\r\n      \r\n\r\n\r\n    return(\r\n        <TodoContext.Provider value={{\r\n            loading,\r\n            error,\r\n            completedTodos,\r\n            totalTodos,\r\n            searchValue,\r\n            setSearchValue,\r\n            searchedTodos,\r\n            completeTodo,\r\n            deleteTodo,\r\n            openModal,\r\n            setOpenModal,\r\n            addTodo,\r\n        }}>\r\n            {children}\r\n        </TodoContext.Provider>\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\nexport { TodoContext, TodoProvider };"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,eAAe,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEpD,KAAM,CAAAC,WAAW,cAAGJ,KAAK,CAACK,aAAa,CAAC,CAAC,CAEzC,QAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAY,IAAX,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAC5B,KAAM,CACFE,IAAI,CAAEC,KAAK,CACXC,QAAQ,CAAEC,SAAS,CACnBC,OAAO,CACPC,KACF,CAAC,CAAGb,eAAe,CAAC,UAAU,CAAE,EAAE,CAAC,CACnC,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGhB,KAAK,CAACiB,QAAQ,CAAC,EAAE,CAAC,CAExD,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGnB,KAAK,CAACiB,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAG,cAAc,CAAGV,KAAK,CAACW,MAAM,CACjCC,IAAI,EAAI,CAAC,CAACA,IAAI,CAACC,SAAS,CAAC,CAACC,MAAM,CAElC,KAAM,CAAAC,UAAU,CAAGf,KAAK,CAACc,MAAM,CAE/B,KAAM,CAAAE,aAAa,CAAGhB,KAAK,CAACW,MAAM,CAC/BC,IAAI,EAAK,CACR,KAAM,CAAAK,QAAQ,CAAGL,IAAI,CAACM,IAAI,CAACC,WAAW,CAAC,CAAC,CACxC,KAAM,CAAAC,UAAU,CAAGf,WAAW,CAACc,WAAW,CAAC,CAAC,CAC5C;AACA,MAAO,CAAAF,QAAQ,CAACI,QAAQ,CAACD,UAAU,CAAC,CACtC,CACF,CAAC,CAED;AAEA,KAAM,CAAAE,OAAO,CAAIJ,IAAI,EAAK,CACxB,KAAM,CAAAK,QAAQ,CAAG,CAAC,GAAGvB,KAAK,CAAC,CAC3BuB,QAAQ,CAACC,IAAI,CAAC,CACZX,SAAS,CAAE,KAAK,CAChBK,IACF,CAAC,CAAC,CACFhB,SAAS,CAACqB,QAAQ,CAAC,CACrB,CAAC,CAGD,KAAM,CAAAE,YAAY,CAAIP,IAAI,EAAK,CAC7B,KAAM,CAAAK,QAAQ,CAAG,CAAC,GAAGvB,KAAK,CAAC,CAAE;AAC7B,KAAM,CAAA0B,SAAS,CAAGH,QAAQ,CAACI,SAAS,CACjCf,IAAI,EAAKA,IAAI,CAACM,IAAI,GAAKA,IAAK;AAC/B,CAAC,CACDK,QAAQ,CAACG,SAAS,CAAC,CAACb,SAAS,CAAG,IAAI,CACpCX,SAAS,CAACqB,QAAQ,CAAC,CACrB,CAAC,CAED,KAAM,CAAAK,UAAU,CAAIV,IAAI,EAAK,CAC3B,KAAM,CAAAK,QAAQ,CAAG,CAAC,GAAGvB,KAAK,CAAC,CAAE;AAC7B,KAAM,CAAA0B,SAAS,CAAGH,QAAQ,CAACI,SAAS,CACjCf,IAAI,EAAKA,IAAI,CAACM,IAAI,GAAKA,IAAK;AAC/B,CAAC,CACDK,QAAQ,CAACM,MAAM,CAACH,SAAS,CAAE,CAAC,CAAC,CAAE;AAC/BxB,SAAS,CAACqB,QAAQ,CAAC,CACrB,CAAC,CAKH,mBACI9B,IAAA,CAACC,WAAW,CAACoC,QAAQ,EAACC,KAAK,CAAE,CACzB5B,OAAO,CACPC,KAAK,CACLM,cAAc,CACdK,UAAU,CACVV,WAAW,CACXC,cAAc,CACdU,aAAa,CACbS,YAAY,CACZG,UAAU,CACVpB,SAAS,CACTC,YAAY,CACZa,OACJ,CAAE,CAAAxB,QAAA,CACGA,QAAQ,CACS,CAAC,CAG/B,CAIA,OAASJ,WAAW,CAAEE,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}