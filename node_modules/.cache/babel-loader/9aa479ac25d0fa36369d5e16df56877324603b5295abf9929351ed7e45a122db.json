{"ast":null,"code":"import React from'react';function useLocalStorage(itemName,initialValue){const[item,setItem]=React.useState(initialValue);const[loading,setLoading]=React.useState(true);const[error,setError]=React.useState(false);React.useEffect(()=>{setTimeout(()=>{try{const localStorageItem=localStorage.getItem(itemName);let parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);setItem(parsedItem);}setLoading(false);}catch(error){setLoading(false);setError(true);}},2000);},[]);const saveItem=newItem=>{localStorage.setItem(itemName,JSON.stringify(newItem));setItem(newItem);};return{item,saveItem,loading,error};}export{useLocalStorage};// localStorage.removeItem('TODOS_V1');\n// const defaultTodos = [\n//   { text:'Cortar cebolla', completed: true},\n//   { text:'Tomar el curso de Intro a React.js', completed: false},\n//   { text:'Lorar con la Llorona', completed: false},\n//   { text:'LALALALA', completed: true},\n//   { text:'Aprender a usar estados derivados', completed: true},\n// ];\n// localStorage.setItem('TODOS_V1', JSON.stringify(defaultTodos));","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","item","setItem","useState","loading","setLoading","error","setError","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem"],"sources":["D:/Juan_Diego/Projects/React/to-do-list/src/TodoContext/useLocalStorage.js"],"sourcesContent":["import React from 'react'\r\n\r\nfunction useLocalStorage(itemName, initialValue) {\r\n\r\n    const [item, setItem] = React.useState(initialValue);\r\n\r\n    const [loading, setLoading] = React.useState(true);\r\n\r\n    const [error, setError] = React.useState(false);\r\n\r\n    React.useEffect( () => {\r\n        setTimeout(\r\n          () => {\r\n            try {\r\n              const localStorageItem = localStorage.getItem(itemName);\r\n        \r\n              let parsedItem;\r\n    \r\n              if(!localStorageItem){\r\n                localStorage.setItem(itemName, JSON.stringify(initialValue));\r\n                parsedItem = initialValue;\r\n              } else{\r\n                parsedItem = JSON.parse(localStorageItem);\r\n                setItem(parsedItem);\r\n              }\r\n    \r\n              setLoading(false);\r\n            } catch (error) {\r\n              setLoading(false);\r\n              setError(true);\r\n            }\r\n          }, 2000);\r\n    }, []);\r\n  \r\n    \r\n  \r\n    \r\n  \r\n    const saveItem = (newItem) => {\r\n      localStorage.setItem(itemName, JSON.stringify(newItem));\r\n      setItem(newItem);\r\n    };\r\n\r\n  \r\n    return {\r\n      item,\r\n      saveItem,\r\n      loading,\r\n      error,\r\n    };\r\n  \r\n  }\r\n\r\nexport { useLocalStorage };\r\n\r\n// localStorage.removeItem('TODOS_V1');\r\n// const defaultTodos = [\r\n//   { text:'Cortar cebolla', completed: true},\r\n//   { text:'Tomar el curso de Intro a React.js', completed: false},\r\n//   { text:'Lorar con la Llorona', completed: false},\r\n//   { text:'LALALALA', completed: true},\r\n//   { text:'Aprender a usar estados derivados', completed: true},\r\n// ];\r\n\r\n// localStorage.setItem('TODOS_V1', JSON.stringify(defaultTodos));"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,QAAS,CAAAC,eAAeA,CAACC,QAAQ,CAAEC,YAAY,CAAE,CAE7C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGL,KAAK,CAACM,QAAQ,CAACH,YAAY,CAAC,CAEpD,KAAM,CAACI,OAAO,CAAEC,UAAU,CAAC,CAAGR,KAAK,CAACM,QAAQ,CAAC,IAAI,CAAC,CAElD,KAAM,CAACG,KAAK,CAAEC,QAAQ,CAAC,CAAGV,KAAK,CAACM,QAAQ,CAAC,KAAK,CAAC,CAE/CN,KAAK,CAACW,SAAS,CAAE,IAAM,CACnBC,UAAU,CACR,IAAM,CACJ,GAAI,CACF,KAAM,CAAAC,gBAAgB,CAAGC,YAAY,CAACC,OAAO,CAACb,QAAQ,CAAC,CAEvD,GAAI,CAAAc,UAAU,CAEd,GAAG,CAACH,gBAAgB,CAAC,CACnBC,YAAY,CAACT,OAAO,CAACH,QAAQ,CAAEe,IAAI,CAACC,SAAS,CAACf,YAAY,CAAC,CAAC,CAC5Da,UAAU,CAAGb,YAAY,CAC3B,CAAC,IAAK,CACJa,UAAU,CAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC,CACzCR,OAAO,CAACW,UAAU,CAAC,CACrB,CAEAR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOC,KAAK,CAAE,CACdD,UAAU,CAAC,KAAK,CAAC,CACjBE,QAAQ,CAAC,IAAI,CAAC,CAChB,CACF,CAAC,CAAE,IAAI,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAMN,KAAM,CAAAU,QAAQ,CAAIC,OAAO,EAAK,CAC5BP,YAAY,CAACT,OAAO,CAACH,QAAQ,CAAEe,IAAI,CAACC,SAAS,CAACG,OAAO,CAAC,CAAC,CACvDhB,OAAO,CAACgB,OAAO,CAAC,CAClB,CAAC,CAGD,MAAO,CACLjB,IAAI,CACJgB,QAAQ,CACRb,OAAO,CACPE,KACF,CAAC,CAEH,CAEF,OAASR,eAAe,EAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}